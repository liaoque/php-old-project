<mxfile host="app.diagrams.net" modified="2021-12-17T11:23:42.312Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36" etag="SO7dzxnEh1CknlGhwKvl" version="15.9.6" type="github" pages="8">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="概要">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="M7AU8gfKmHCOShcV938N-2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="70" y="980" width="1160" height="630" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-0" target="kgMkl94Deb0bYqLQo5I2-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-0" value="App\Console\Kernel::&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;handle&lt;br&gt;启动&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="50" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-1" target="kgMkl94Deb0bYqLQo5I2-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-1" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;Laravel&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Lumen\App&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;::&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;boot&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;();&lt;br&gt;注册基本事件，服务等&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="200" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-3" target="kgMkl94Deb0bYqLQo5I2-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-3" target="kgMkl94Deb0bYqLQo5I2-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getArtisan&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br/&gt;单例创建 console\App&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="320" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-5" target="kgMkl94Deb0bYqLQo5I2-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-5" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getArtisan&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;/span&gt;-&amp;gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;input&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br/&gt;执行命令&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="420" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-7" target="kgMkl94Deb0bYqLQo5I2-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-7" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#660000&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;new &lt;/span&gt;&lt;/font&gt;Illuminate&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Console&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Application&amp;nbsp;&lt;br&gt;(app, events, version)&lt;br/&gt;创建 console &lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="440" y="180" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-9" target="kgMkl94Deb0bYqLQo5I2-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-9" target="kgMkl94Deb0bYqLQo5I2-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-16" value="&lt;pre style=&quot;font-size: 9pt ; background-color: rgb(248 , 249 , 250) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;br&gt;&lt;/pre&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kgMkl94Deb0bYqLQo5I2-13" vertex="1" connectable="0">
          <mxGeometry x="0.1875" y="-4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-9" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;Console&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;App::&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;resolveCommands(commands&lt;/span&gt;)&lt;br&gt;加载自定义命令 + ScheduleRunCommand&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="440" y="330" width="270" height="54" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-12" target="kgMkl94Deb0bYqLQo5I2-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="989" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-12" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;for  &lt;/span&gt;&lt;/font&gt;command = &lt;font color=&quot;#00627a&quot; style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;make(command)&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="854" y="100" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-23" target="kgMkl94Deb0bYqLQo5I2-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-23" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;Console&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;App::&lt;/span&gt;&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;commands[] = command&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="854" y="240" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-25" target="kgMkl94Deb0bYqLQo5I2-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-25" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;pre&gt;&lt;pre&gt;&lt;font color=&quot;#00627a&quot; face=&quot;jetbrains mono, monospace&quot;&gt;Illuminate\Events\Dispatcher::&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;dispatch(&lt;/span&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;CommandStarting)&lt;br&gt;命令开始事件&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="360" y="420" width="390" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-27" target="kgMkl94Deb0bYqLQo5I2-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-27" target="kgMkl94Deb0bYqLQo5I2-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-27" target="kgMkl94Deb0bYqLQo5I2-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-27" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;exitCode&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;=&lt;/span&gt;Symfony&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Component&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Console\App&lt;/span&gt;::&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;run&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="317.5" y="610" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-29" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;dispatch(&lt;/span&gt;CommandFinished)&lt;br/&gt;命令结束事件&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="350" y="730" width="215" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-31" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;exit(exitCode)&lt;br/&gt;正常结束返回 状态码&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="610" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-33" target="kgMkl94Deb0bYqLQo5I2-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-33" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;set_exception_handler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$renderException&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="710" y="510" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-35" target="kgMkl94Deb0bYqLQo5I2-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-35" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;restore_exception_handler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="710" y="820" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-37" target="kgMkl94Deb0bYqLQo5I2-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-37" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;configureIO&lt;br/&gt;&lt;/span&gt;&lt;/font&gt;&lt;i style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(255 , 255 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;配置日志输出级别&lt;/i&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="710" y="610" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-39" target="kgMkl94Deb0bYqLQo5I2-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-39" target="kgMkl94Deb0bYqLQo5I2-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-39" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;Console&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;App::&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;doRun&lt;/span&gt;(&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;input&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="710" y="710" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-42" target="kgMkl94Deb0bYqLQo5I2-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-42" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$name &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;getCommandName&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$command &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;find&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$name&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;解析命令行字符串， 找出对应的命令对象&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1160" y="490" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-44" target="kgMkl94Deb0bYqLQo5I2-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-44" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;doRunCommand&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1160" y="645" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-46" target="kgMkl94Deb0bYqLQo5I2-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-46" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;if 信号命令 == true {&lt;br&gt;foreach &lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;register(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;getSubscribedSignals&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(),&amp;nbsp;&lt;/span&gt;[&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(6 , 125 , 23) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;handleSignal&#39;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;]&lt;/span&gt;)&lt;br/&gt;}&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1654" y="460" width="486" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-48" target="kgMkl94Deb0bYqLQo5I2-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-48" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt; font-family: &amp;quot;jetbrains mono&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;null &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;=== &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(135 , 16 , 148)&quot;&gt;dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(248 , 249 , 250)&quot;&gt;自定义调度&lt;br&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 51 , 179)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;}&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1712" y="640" width="370" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-50" target="kgMkl94Deb0bYqLQo5I2-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-50" target="kgMkl94Deb0bYqLQo5I2-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-50" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;null &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;=== &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(135 , 16 , 148)&quot;&gt;dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br/&gt;    默认调度&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1712" y="820" width="370" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-52" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#0033b3&quot;&gt;else&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt; {&lt;br&gt;    自定义调度&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;foreach $command&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;getSubscribedSignals&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;() &lt;/span&gt;register(func(){&lt;br&gt; dispatch&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(8 , 8 , 8)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(8 , 8 , 8)&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;ConsoleEvents&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(8 , 8 , 8)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(135 , 16 , 148) ; font-style: italic&quot;&gt;SIGNAL&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;触发信号事件&lt;br&gt;}&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span&gt;)&lt;br&gt;&lt;/span&gt;&lt;/span&gt;注册信号处理函数&lt;br&gt;&lt;br&gt;&lt;pre style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;dispatch(&lt;/span&gt;ConsoleCommandEvent, ConsoleEvents&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;COMMAND&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;pre style=&quot;font-size: 9pt ; background-color: rgb(248 , 249 , 250) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;ConsoleCommandEvent-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;commandShouldRun&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;()) {&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$exitCode&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;} &lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;else&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;/span&gt;    &lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$exitCode&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;=&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;ConsoleCommandEvent&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;RETURN_CODE_DISABLED&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;}&lt;/pre&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;dispatch(&lt;/span&gt;ConsoleTerminateEvent, ConsoleEvents&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;COMMAND&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(255 , 255 , 255)&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1710.5" y="1020" width="373" height="310" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-63" value="app\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="10" y="10" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-64" value="vendor\laravel\lumen-framework\src\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="10" y="30" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-65" value="vendor\laravel\lumen-framework\src\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="10" y="160" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-66" value="vendor\laravel\lumen-framework\src\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="20" y="290" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-67" value="vendor\illuminate\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="350" y="400" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-68" value="vendor\illuminate\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="430" y="150" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-69" value="vendor\symfony\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="300" y="575" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-71" value="vendor\symfony\console\Command\Command.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2190" y="800" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.531;entryY=0.014;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-72" target="kgMkl94Deb0bYqLQo5I2-77" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-72" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;mergeApplicationDefinition&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;bind&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;getDefinition&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;());&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;initialize&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;);&lt;br/&gt;&lt;/span&gt;$this&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;interact&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2270" y="820" width="320" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-74" value="不同的命令处理类，如：vendor\illuminate\queue\Console\WorkCommand.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2120" y="780" width="450" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-77" target="kgMkl94Deb0bYqLQo5I2-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-77" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;code&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;    &lt;/span&gt;LazyCommand 专用&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$statusCode &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= (&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;code&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$statusCode &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;execute&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2260" y="990" width="320" height="90" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-79" target="kgMkl94Deb0bYqLQo5I2-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-79" value="&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$method &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(6 , 125 , 23) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;handle&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;) ? &lt;/span&gt;&lt;span style=&quot;color: rgb(6 , 125 , 23) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;handle&#39; &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(6 , 125 , 23) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;__invoke&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;Laravel\Lumen\Application&lt;span style=&quot;font-size: 9pt&quot;&gt;::&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;call&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;([&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;]);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2260" y="1200" width="320" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-82" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; text-align: left ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;execute&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2421" y="1080" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-83" value="vendor\illuminate\queue\Console\WorkCommand.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2200" y="1160" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-84" value="vendor\illuminate\console\Command.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2240" y="1180" width="290" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-86" target="kgMkl94Deb0bYqLQo5I2-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-86" target="kgMkl94Deb0bYqLQo5I2-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-86" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listenForEvents&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2660" y="1200" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-88" target="kgMkl94Deb0bYqLQo5I2-94" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-88" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$connection &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(135 , 16 , 148)&quot;&gt;laravel&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;config&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;][&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;queue.default&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$queue &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;getQueue&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/span&gt;$this&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;runWorker&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2660" y="1320" width="340" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-91" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br/&gt;listen&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;JobProcessing&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;font color=&quot;#0033b3&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;class)&lt;br&gt;&lt;/span&gt;&lt;/font&gt;listen&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;JobProcessed&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;font color=&quot;#0033b3&quot; style=&quot;font-size: 9pt ; white-space: normal&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;class)&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#080808&quot; style=&quot;font-size: 9pt ; white-space: normal&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;listen&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;JobFailed&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;class)&lt;/span&gt;&lt;font color=&quot;#0033b3&quot; style=&quot;font-size: 9pt ; white-space: normal&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3090" y="1200" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-93" value="vendor\illuminate\queue\Console\WorkCommand.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2590" y="1169" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-94" target="kgMkl94Deb0bYqLQo5I2-96" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="kgMkl94Deb0bYqLQo5I2-94" target="kgMkl94Deb0bYqLQo5I2-98" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-94" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$option &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;gatherWorkerOptions&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff ; font-style: italic&quot;&gt;once&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;){&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;worker&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runNextJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$option&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;worker&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;daemon&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$option&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2645" y="1500" width="370" height="90" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-96" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listenForEvents&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2220" y="1515" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-98" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listenForEvents&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3120" y="1515" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-100" value="vendor\illuminate\queue\Worker.php::&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; font-weight: 400 ; text-align: left&quot;&gt;daemon&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2165" y="1490" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="kgMkl94Deb0bYqLQo5I2-101" value="vendor\illuminate\queue\Worker.php::&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; font-weight: 400 ; text-align: left&quot;&gt;runNextJob&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3030" y="1490" width="340" height="20" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="CpFVAHjmx7NXOBH_PF_0-1" target="CpFVAHjmx7NXOBH_PF_0-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-1" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;App\Console\Kernel&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;::handle&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;getArtisan&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;input&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;)&lt;br&gt;&lt;/span&gt;CommandStarting-&amp;gt;run-&amp;gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-size: 9pt ; white-space: normal&quot;&gt;CommandFinished&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;这里开始命令的执行周期&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="80" y="1138" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="CpFVAHjmx7NXOBH_PF_0-3" target="CpFVAHjmx7NXOBH_PF_0-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-3" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;pre&gt;&lt;pre&gt;&lt;font color=&quot;#00627a&quot; face=&quot;jetbrains mono, monospace&quot;&gt;parent::run&lt;br&gt;定义异常处理&lt;br&gt;定义错误处理&lt;br&gt;&lt;/font&gt;configureIO: 配置输出等级，配置--ansi开关&lt;br&gt;&lt;font color=&quot;#00627a&quot; face=&quot;jetbrains mono, monospace&quot;&gt;dorun&lt;br&gt;恢复异常处理&lt;br&gt;恢复错误处理&lt;br&gt;返回 命令的错误码&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="420" y="1095" width="390" height="145" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;exit(exitCode)&lt;br/&gt;正常结束返回 状态码&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="110" y="1300" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="CpFVAHjmx7NXOBH_PF_0-5" value="vendor\illuminate\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="410" y="1070" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="z-WLp2E1kF-18LUcHHrc-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="CpFVAHjmx7NXOBH_PF_0-3" target="z-WLp2E1kF-18LUcHHrc-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="1280" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="z-WLp2E1kF-18LUcHHrc-1" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;$command&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="804" y="1465" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="M7AU8gfKmHCOShcV938N-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="z-WLp2E1kF-18LUcHHrc-2" target="z-WLp2E1kF-18LUcHHrc-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="z-WLp2E1kF-18LUcHHrc-2" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;通过命令名找命令对象【如果不存在，则通过反射解析命令对象】，然后执行命令&lt;br/&gt;$command &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;find&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$name&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;$exitCode &lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;doRunCommand&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="764" y="1280" width="450" height="90" as="geometry" />
        </mxCell>
        <mxCell id="M7AU8gfKmHCOShcV938N-3" value="简化命令逻辑" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="150" y="1030" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="gfRdNAZaqumlyChYDiBx" name="cmd-schedule">
    <mxGraphModel dx="1182" dy="1877" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WkFDbYVM7cvTiAS4us2j-0" />
        <mxCell id="WkFDbYVM7cvTiAS4us2j-1" parent="WkFDbYVM7cvTiAS4us2j-0" />
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-1" target="n6WIxNRq0TuKVbo2MGa2-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-1" value="App\Console\Kernel::&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;setRequestForConsole&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;设置 请求方式,应该属于一种兼容模式&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="60" y="-80" width="250" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-3" target="n6WIxNRq0TuKVbo2MGa2-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rhf84_zZ4BKTuuaOiyUX-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-3" target="rhf84_zZ4BKTuuaOiyUX-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-3" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;Laravel&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Lumen\App&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;::&lt;/font&gt;&lt;/span&gt;prepareForConsoleCommand();&lt;br&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;注册基本事件，服务等&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="40" y="40" width="290" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-6" target="n6WIxNRq0TuKVbo2MGa2-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-6" target="n6WIxNRq0TuKVbo2MGa2-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-6" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;App\Console\Kernel:&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;:&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;defineConsoleSchedule();&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;定义 &lt;/span&gt;&lt;/font&gt;Schedule&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="45" y="324" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-8" target="n6WIxNRq0TuKVbo2MGa2-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-8" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;App\Console\Kernel&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;::handle&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;getArtisan&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;input&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;output&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;)&lt;br&gt;&lt;/span&gt;CommandStarting-&amp;gt;run-&amp;gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-size: 9pt ; white-space: normal&quot;&gt;CommandFinished&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;这里开始命令的执行周期&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="50" y="528" width="270" height="60" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-10" target="n6WIxNRq0TuKVbo2MGa2-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-10" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;font color=&quot;#080808&quot; style=&quot;font-size: 9pt&quot;&gt;Laravel&lt;/font&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Lumen\App&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;::&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;instance&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Schedule&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class）&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="440" y="180" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-14" target="n6WIxNRq0TuKVbo2MGa2-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-14" target="n6WIxNRq0TuKVbo2MGa2-86" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-14" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;App&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Console\&lt;/span&gt;Kernel::&lt;span style=&quot;font-size: 9pt&quot;&gt;schedule($schedule)&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;加载自定义命令 + ScheduleRunCommand&lt;br/&gt;这里是框架开放接口了&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="440" y="340" width="270" height="58" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-20" target="n6WIxNRq0TuKVbo2MGa2-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-20" target="wlAqZ61SOAgKYhJgB421-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-20" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;pre&gt;&lt;pre&gt;&lt;font color=&quot;#00627a&quot; face=&quot;jetbrains mono, monospace&quot;&gt;parent::run&lt;br&gt;定义异常处理&lt;br&gt;定义错误处理&lt;br&gt;&lt;/font&gt;configureIO: 配置输出等级，配置--ansi开关&lt;br&gt;&lt;font color=&quot;#00627a&quot; face=&quot;jetbrains mono, monospace&quot;&gt;dorun&lt;br&gt;恢复异常处理&lt;br&gt;恢复错误处理&lt;br&gt;返回 命令的错误码&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="390" y="485" width="390" height="145" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-26" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;exit(exitCode)&lt;br/&gt;正常结束返回 状态码&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="80" y="690" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-39" target="wlAqZ61SOAgKYhJgB421-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-39" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;$command&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="670" y="780" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-48" value="app\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="440" y="-100" width="170" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-49" value="vendor\laravel\lumen-framework\src\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="10" y="-100" width="310" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-50" value="vendor\laravel\lumen-framework\src\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="10" y="10" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-51" value="vendor\laravel\lumen-framework\src\Console\Kernel.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="20" y="290" width="350" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-52" value="vendor\illuminate\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="380" y="460" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-53" value="vendor\illuminate\console\Application.php" style="text;strokeColor=none;fillColor=none;html=1;fontSize=12;fontStyle=1;verticalAlign=middle;align=center;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="430" y="150" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-81" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-80" target="n6WIxNRq0TuKVbo2MGa2-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-80" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#067d17&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;make(&lt;/span&gt;&lt;/font&gt;Laravel&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Lumen&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Console&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Kernel::class&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="445" y="-80" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-83" value="illuminate\console\Scheduling\Schedule.php" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="780" y="309" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" source="n6WIxNRq0TuKVbo2MGa2-86" target="n6WIxNRq0TuKVbo2MGa2-88" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-86" value="&lt;pre&gt;&lt;pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;Scheduling\Schedule::command($schedule)&lt;br/&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;返回 &lt;/span&gt;&lt;/font&gt;Illuminate&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Console&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;Scheduling\Event&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="790" y="340" width="320" height="58" as="geometry" />
        </mxCell>
        <mxCell id="n6WIxNRq0TuKVbo2MGa2-88" value="解析命令名称&lt;br&gt;使用命令名+参数创建对象&lt;br&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;Scheduling\Schedule::events[] =new Event&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;events存放所有 schedule&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;按需订制crontab的运行格式&lt;br&gt;&lt;/span&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1241" y="329.5" width="305" height="79" as="geometry" />
        </mxCell>
        <mxCell id="FXqGPfXlaYkpbBhSucOe-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" source="rhf84_zZ4BKTuuaOiyUX-0" target="FXqGPfXlaYkpbBhSucOe-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rhf84_zZ4BKTuuaOiyUX-0" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0)&quot;&gt;MigrationServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 0 , 0)&quot;&gt;ConsoleServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 51 , 179)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;)&lt;br&gt;这里注册了系统命令&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="450" y="40" width="270" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-0" target="n6WIxNRq0TuKVbo2MGa2-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;通过命令名找命令对象【如果不存在，则通过反射解析命令对象】，然后执行命令&lt;br/&gt;$command &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;find&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$name&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;$exitCode &lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;doRunCommand&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$input&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$output&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="630" y="650" width="450" height="90" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-4" target="wlAqZ61SOAgKYhJgB421-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-10" value="Text" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="wlAqZ61SOAgKYhJgB421-9" vertex="1" connectable="0">
          <mxGeometry x="0.0989" y="3" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;schedule&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dueEvents&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;laravel&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {   &lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;    if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;onOneServer&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runSingleServerEvent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    } &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runEvent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="637.5" y="860" width="435" height="150" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-6" value="循环事件， 执行crontab任务" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="680" y="970" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-7" value="vendor/illuminate/console/Scheduling/ScheduleRunCommand.php" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="861" y="620" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-8" target="wlAqZ61SOAgKYhJgB421-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-8" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0)&quot;&gt;ScheduledTaskStarting&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;))&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;run&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(135 , 16 , 148)&quot;&gt;laravel&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 51 , 179)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 0 , 0)&quot;&gt;ScheduledTaskFinished(...))&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1190" y="902.5" width="290" height="65" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-11" target="wlAqZ61SOAgKYhJgB421-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1335" y="615" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-11" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;callBeforeCallbacks&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$container&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;jetbrains mono, monospace&quot;&gt;Process&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122) ; font-style: italic&quot;&gt;fromShellCommandline&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;buildCommand&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;()..)&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;font face=&quot;jetbrains mono, monospace&quot;&gt;$this&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;callAfterCallbacks&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$container&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; white-space: normal&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1155" y="750" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-13" value="Scheduling\Event.php" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1155" y="730" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-16" target="wlAqZ61SOAgKYhJgB421-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-16" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;$commandline = &lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;sudo -u &#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;user&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39; -- sh -c &lt;/span&gt;&lt;span style=&quot;color: #0037a6 ; background-color: #f7faff&quot;&gt;\&#39;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #0037a6 ; background-color: #f7faff&quot;&gt;\&#39;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1085" y="570" width="500" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-17" value="vendor/illuminate/console/Scheduling/CommandBuilder.php" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="980" y="550" width="340" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r7RHAokEg4ybWJzZRMW0-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WkFDbYVM7cvTiAS4us2j-1" source="wlAqZ61SOAgKYhJgB421-18" target="r7RHAokEg4ybWJzZRMW0-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-18" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;@&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;proc_open&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$commandline&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$descriptors&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;, &lt;/font&gt;&lt;font color=&quot;#660000&quot;&gt;...&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1176.25" y="470" width="317.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="wlAqZ61SOAgKYhJgB421-20" value="vendor/symfony/process/Process.php" style="text;whiteSpace=wrap;html=1;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1090" y="460" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r7RHAokEg4ybWJzZRMW0-0" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="1585" y="480" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FXqGPfXlaYkpbBhSucOe-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;registerCommands&lt;br&gt;1. 注册相关命令&lt;br&gt;2. 设置了初始化的时候把创建这些命令&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" parent="WkFDbYVM7cvTiAS4us2j-1" vertex="1">
          <mxGeometry x="870" y="31" width="277.5" height="68" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="jvfY-zz3jvBXQMN2Yecd" name="register">
    <mxGraphModel dx="2009" dy="708" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="PNakDXNeOscbMIW7O8FS-0" />
        <mxCell id="PNakDXNeOscbMIW7O8FS-1" parent="PNakDXNeOscbMIW7O8FS-0" />
        <mxCell id="uGZosxpbx-zz6mGNn6A2-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-0" target="uGZosxpbx-zz6mGNn6A2-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;loadedProviders&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$providerName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-270" y="210" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-1" value="\laravel\lumen-framework\src\Application.php" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-300" y="180" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-2" target="uGZosxpbx-zz6mGNn6A2-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-2" target="uGZosxpbx-zz6mGNn6A2-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-2" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;method_exists&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;register&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-270" y="315" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-3" target="uGZosxpbx-zz6mGNn6A2-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;booted&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;bootProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-270" y="445" width="340" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-8" value="具体看 laravel provider介绍&lt;br&gt;注册并不生成对象，等用的时候在解析" style="whiteSpace=wrap;html=1;rounded=0;align=left;strokeColor=#6c8ebf;fillColor=#dae8fc;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="280" y="307.5" width="280" height="65" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-10" target="uGZosxpbx-zz6mGNn6A2-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-10" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;method_exists&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;boot&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;call&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;([&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$provider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;boot&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="250" y="437.5" width="340" height="65" as="geometry" />
        </mxCell>
        <UserObject label="https://learnku.com/docs/laravel/8.x/providers/9362#the-boot-method" link="https://learnku.com/docs/laravel/8.x/providers/9362#the-boot-method" id="uGZosxpbx-zz6mGNn6A2-16">
          <mxCell style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
            <mxGeometry x="225" y="220" width="390" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-17" value="vendor/illuminate/database/MigrationServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-260" y="525" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-18" value="vendor/laravel/lumen-framework/src/Console/ConsoleServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-270" y="555" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-19" value="两个cli系统服务" style="rounded=0;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-270" y="585" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-20" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;registerScheduleRunCommand&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ScheduleRunCommand&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br/&gt;&lt;br/&gt;注册一个命令的例子&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-140" y="585" width="340" height="100" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-22" value="vendor/illuminate/container/Container.php" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-140" y="715" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-24" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$abstract&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$concrete &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;bind&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$abstract&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$concrete&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br&gt;把对象注册到 容器内即可，具体参考下面文档说明&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
          <mxGeometry x="-140" y="755" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="uGZosxpbx-zz6mGNn6A2-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" source="uGZosxpbx-zz6mGNn6A2-25" target="uGZosxpbx-zz6mGNn6A2-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="https://learnku.com/docs/laravel/8.x/container/9361#4f6d33" link="https://learnku.com/docs/laravel/8.x/container/9361#4f6d33" id="uGZosxpbx-zz6mGNn6A2-25">
          <mxCell style="text;whiteSpace=wrap;html=1;" parent="PNakDXNeOscbMIW7O8FS-1" vertex="1">
            <mxGeometry x="-135" y="885" width="340" height="30" as="geometry" />
          </mxCell>
        </UserObject>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="SBlF6siYQg8Clih3SXN4" name="daemon-commad">
    <mxGraphModel dx="2009" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ScgTpdd3-xkfnw4XMcyq-0" />
        <mxCell id="ScgTpdd3-xkfnw4XMcyq-1" parent="ScgTpdd3-xkfnw4XMcyq-0" />
        <mxCell id="368ia12YEBgBRK7e9NVV-0" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;handleJobException&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/span&gt;运行$job时发生的异常处理&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-136" y="1184" width="176" height="95.97" as="geometry" />
        </mxCell>
        <mxCell id="cEhix3CAjt8oVYoWaxom-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;$exceptions&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;report&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;异常记录日志&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-160" y="570" width="150" height="300" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-0" target="RQJ7HKmMvAXYRIt7xjLk-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;daemon&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;WorkerOptions &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="40" y="363.38" width="480" height="70" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-1" value="vendor/illuminate/queue/Worker.php" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="30" y="330" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-2" value="vendor/illuminate/queue/QueueServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="20" y="50" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-3" target="RQJ7HKmMvAXYRIt7xjLk-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-3" target="RQJ7HKmMvAXYRIt7xjLk-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;registerWorker&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.worker&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$isDownForMaintenance &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;isDownForMaintenance&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Worker&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;],&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;],&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ExceptionHandler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;],&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$isDownForMaintenance&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    });&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="20" y="80" width="520" height="220" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-5" target="SepMmm-aXq5QRq0h1DCx-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-5" target="SepMmm-aXq5QRq0h1DCx-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-5" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;supportsAsyncSignals&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;()&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(255 , 255 , 255)&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal&quot;&gt;work-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;listenForSignals&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;();&lt;br&gt;加载信号相关逻辑&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="175" y="460" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-7" target="RQJ7HKmMvAXYRIt7xjLk-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-7" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;$work-&amp;gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;runNextJob&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;WorkerOptions &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-460" y="470" width="450" height="75" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-9" target="oINQAgrJSiL6vFhB8a2f-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-9" target="oINQAgrJSiL6vFhB8a2f-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="RQJ7HKmMvAXYRIt7xjLk-9" target="SepMmm-aXq5QRq0h1DCx-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="RQJ7HKmMvAXYRIt7xjLk-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;$work&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;getNextJob&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;$work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;manager&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;connection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-460" y="620" width="450" height="75" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;explode&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;,&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(! &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;pop&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;))) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-809.5" y="618.63" width="330" height="77.75" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-5" target="oINQAgrJSiL6vFhB8a2f-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-7" target="oINQAgrJSiL6vFhB8a2f-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-5" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;$work&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-397.5" y="790" width="325" height="67.5" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-7" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;try &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;catch &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Throwable &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;exceptions&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;report&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;stopWorkerIfLostConnection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-802.5" y="769.0699999999999" width="370" height="109.37" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-9" target="oINQAgrJSiL6vFhB8a2f-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-9" target="oINQAgrJSiL6vFhB8a2f-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;$work&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;raiseBeforeJobEvent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-422.5" y="941.25" width="375" height="58.75" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-11" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobProcessing)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-680" y="940.62" width="210" height="59.38" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-14" target="oINQAgrJSiL6vFhB8a2f-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-14" target="oINQAgrJSiL6vFhB8a2f-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-14" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;$work&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;markJobAsFailedIfAlreadyExceedsMaxAttempts&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, (&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;maxTries&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;isDeleted&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;()) {&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#660000&quot;&gt;...}&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-418.75" y="1083" width="367.5" height="90" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-16" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$e &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$work-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;maxAttemptsExceededException&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$work&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;failJob&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(255 , 255 , 255)&quot;&gt;$e); 标记$job失败&lt;br&gt;&lt;/span&gt;&lt;/span&gt;throw &lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-802.5" y="1099.91" width="335" height="56.18" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-18" target="oINQAgrJSiL6vFhB8a2f-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-18" target="SepMmm-aXq5QRq0h1DCx-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-18" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;fire&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-347.5" y="1220" width="225" height="44.05" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="oINQAgrJSiL6vFhB8a2f-20" target="oINQAgrJSiL6vFhB8a2f-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-20" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;raiseAfterJobEvent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-402.5" y="1340" width="335" height="53.92" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-22" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobProcessed)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-674.5" y="1338.92" width="200" height="55" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-24" value="$work = new Worker" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-460" y="430" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-25" value="从队列管理器中取出一个job" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-460" y="585" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-26" value="执行job" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-397.5" y="750" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-27" value="执行时候的异常处理" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-809.5" y="739.07" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-28" value="job开始事件" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-680" y="909.37" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-29" value="&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none&quot;&gt;job结束事件&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-674.5" y="1308.92" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-30" value="标记连续失败多次的任务是失败任务" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-437.5" y="1060" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="oINQAgrJSiL6vFhB8a2f-31" value="制定失败异常" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-809.5" y="1069.9099999999999" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff ; font-style: italic&quot;&gt;parse&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;job&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;resolve&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;))-&amp;gt;{&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;data&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-802.5" y="1208" width="380" height="67.97" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-2" value="vendor/illuminate/queue/Jobs/Job.php&lt;br&gt;vendor/illuminate/queue/Jobs/RedisJob.php" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-802.5" y="1169" width="259.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;dashed=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="SepMmm-aXq5QRq0h1DCx-4" target="RQJ7HKmMvAXYRIt7xjLk-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;getNextJob&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;work-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;manager&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;connection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=0;align=left;verticalAlign=top;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="100" y="621" width="360" height="71" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" source="SepMmm-aXq5QRq0h1DCx-13" target="SepMmm-aXq5QRq0h1DCx-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-13" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;pcntl_signal&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff ; font-style: italic&quot;&gt;SIGALRM&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,...）&lt;br&gt;&lt;/span&gt;pcntl_alarm&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(...)&lt;br&gt;设置超时&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="490" y="457" width="200" height="55" as="geometry" />
        </mxCell>
        <mxCell id="SepMmm-aXq5QRq0h1DCx-15" value="结束" style="whiteSpace=wrap;html=1;align=left;rounded=0;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="490" y="559" width="200" height="50.5" as="geometry" />
        </mxCell>
        <mxCell id="cEhix3CAjt8oVYoWaxom-1" value="app/Exceptions/Handler.php" style="text;whiteSpace=wrap;html=1;" parent="ScgTpdd3-xkfnw4XMcyq-1" vertex="1">
          <mxGeometry x="-180" y="545" width="180" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="E0MBvNSv54HESW2z1wxV" name="queue:work">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0YRGfek4cY0L8N3LiBHX-0" />
        <mxCell id="0YRGfek4cY0L8N3LiBHX-1" parent="0YRGfek4cY0L8N3LiBHX-0" />
        <mxCell id="WGCsmNehnFsNzq4NUx30-70" style="edgeStyle=orthogonalEdgeStyle;shape=link;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-47" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="2910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-47" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontColor=#000000;fillColor=#FFFFFF;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="270" y="2640" width="60" height="370" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-48" target="WGCsmNehnFsNzq4NUx30-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-48" value="防止队列数据意外丢失" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontColor=#000000;fillColor=#FFFFFF;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="650" y="2640" width="60" height="370" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-49" target="WGCsmNehnFsNzq4NUx30-68" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-49" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontColor=#000000;fillColor=#FFFFFF;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="860" y="2640" width="60" height="370" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-46" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontFamily=Helvetica;fontColor=#000000;fillColor=#FFFFFF;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="450" y="2640" width="60" height="370" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-9" target="H2Fa3pAkgOJ7XqVHhFQV-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="810" y="1940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry y="1140" width="770" height="780" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-0" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="535" y="1620" width="410" height="130" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-0" target="R4AjJzca2OOamOj0_RhO-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;WorkCommand&lt;/span&gt;&lt;/pre&gt;" style="html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="40" y="460" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-1" target="R4AjJzca2OOamOj0_RhO-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-1" target="R4AjJzca2OOamOj0_RhO-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-1" target="R4AjJzca2OOamOj0_RhO-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-1" target="R4AjJzca2OOamOj0_RhO-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-1" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listenForEvents&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="50" y="555" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobProcessing&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;writeOutput&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;starting&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;})&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="310" y="450" width="310" height="75" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-5" target="wPK_FbwCG21QVp2pyX95-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-5" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runWorker&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="50" y="720" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-7" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobProcessed&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;writeOutput&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;success&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;})&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="310" y="547.5" width="310" height="75" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobFailed&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;writeOutput&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;failed&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;logFailedJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);// 记录日志&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;})&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="310" y="650" width="310" height="75" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-14" target="vvYvaFZQGx6aTYCuUC1i-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="R4AjJzca2OOamOj0_RhO-14" target="wPK_FbwCG21QVp2pyX95-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="R4AjJzca2OOamOj0_RhO-14" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Application&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="40" y="32.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="vvYvaFZQGx6aTYCuUC1i-0" target="vvYvaFZQGx6aTYCuUC1i-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="vvYvaFZQGx6aTYCuUC1i-0" target="vvYvaFZQGx6aTYCuUC1i-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="110" y="323" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;prepareForConsoleCommand&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="30" y="160" width="160" height="35" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="vvYvaFZQGx6aTYCuUC1i-2" target="vvYvaFZQGx6aTYCuUC1i-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="vvYvaFZQGx6aTYCuUC1i-2" target="vvYvaFZQGx6aTYCuUC1i-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-2" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;cache&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;configure&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;database&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; white-space: normal&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="330" y="149.07" width="210" height="56.87" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;loadComponent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;QueueServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;});&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.connection&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;loadComponent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;QueueServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.connection&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;});&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="630" y="96.26" width="550" height="98.74" as="geometry" />
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" target="fxG65rV0y82olIJbmcOB-0" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="215" y="343" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="vvYvaFZQGx6aTYCuUC1i-6" target="fxG65rV0y82olIJbmcOB-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-6" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;QueueServiceProvider-&amp;gt;&lt;/span&gt;register&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="5" y="323" width="210" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vvYvaFZQGx6aTYCuUC1i-8" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;cache&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;loadComponent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;cache&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;CacheServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;});&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;cache.store&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;loadComponent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;cache&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;CacheServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;cache.store&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;});&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="630" y="210" width="550" height="93.13" as="geometry" />
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;dashPattern=1 2;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fxG65rV0y82olIJbmcOB-0" target="R4AjJzca2OOamOj0_RhO-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=1 2;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fxG65rV0y82olIJbmcOB-0" target="fxG65rV0y82olIJbmcOB-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;fillColor=#f8cecc;strokeColor=#b85450;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fxG65rV0y82olIJbmcOB-0" target="L2zdXUVcD7vKSdD1jbPo-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1410" y="1400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-0" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;registerManager //注册管理类&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;registerConnection // 注册连接类&lt;br&gt;&lt;/span&gt;&lt;/font&gt;registerWorker   // 注册worker&lt;br&gt;registerListener //&lt;br&gt;registerFailedJobServices&lt;br&gt;registerOpisSecurityKey&lt;br&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="300" y="292.25" width="245" height="101.5" as="geometry" />
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-5" value="make worker(&lt;span style=&quot;background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; text-align: left&quot;&gt;QueueManager,&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;Events&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; text-align: left&quot;&gt;/&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;Dispatcher&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="130" y="410" width="270" height="20" as="geometry" />
        </mxCell>
        <mxCell id="fxG65rV0y82olIJbmcOB-7" value="&lt;pre style=&quot;background-color: rgb(255, 255, 255); font-family: &amp;quot;jetbrains mono&amp;quot;, monospace; font-size: 9pt;&quot;&gt;&lt;span style=&quot;background-color: rgb(247, 250, 255);&quot;&gt;queue 经过多次的替换&lt;br&gt;最后绑定为&lt;/span&gt;QueueManager&lt;br&gt;QueueManager&lt;br&gt;管理着N个[不同类型的]列队的连接和执行&lt;br&gt;&lt;br&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;fontColor=#FF4912;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="615" y="313.25" width="250" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="wPK_FbwCG21QVp2pyX95-0" target="wPK_FbwCG21QVp2pyX95-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;EventServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br/&gt;&lt;/span&gt;EventServiceProvider&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;register&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="230" y="18.75" width="320" height="57.5" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;setQueueResolver&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    });&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;});&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="630" y="5" width="510" height="85" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="wPK_FbwCG21QVp2pyX95-5" target="UPTZTvRMxHHyWCnLUqef-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="wPK_FbwCG21QVp2pyX95-5" target="UPTZTvRMxHHyWCnLUqef-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wPK_FbwCG21QVp2pyX95-5" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#00627a&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;getNextJob&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="50" y="835" width="120" height="65" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-0" target="wPK_FbwCG21QVp2pyX95-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-0" target="fQgejPYToPk4qpz2Y8Nr-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-0" value="&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;runJob&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="50" y="1180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-3" target="UPTZTvRMxHHyWCnLUqef-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;pop&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="230" y="836.5" width="170" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-5" target="UPTZTvRMxHHyWCnLUqef-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-5" value="&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$&lt;/span&gt;RedisQueue-&amp;gt;&lt;font color=&quot;#00627a&quot; style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;migrate //迁移返回job到列表&lt;/span&gt;&lt;/font&gt;&lt;br&gt;$&lt;span style=&quot;font-size: 9pt&quot;&gt;RedisQueue-&amp;gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;retrieveNextJob&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="452.5" y="837.75" width="267.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-7" value="vendor/illuminate/queue/RedisQueue.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="440" y="807.75" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-8" value="队列驱动为redis" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="230" y="805" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;RedisJob&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;container&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$reserved&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;connectionName&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;?: &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;default&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(! &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&amp;amp;&amp;amp; ! &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;blockFor&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$block &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&amp;amp;&amp;amp;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getConnection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;blpop&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;([&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;:notify&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;], &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;blockFor&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;retrieveNextJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="356.25" y="960" width="460" height="140" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-11" value="这里就有个优化操作&lt;br&gt;如果没有查询到，就一直阻塞&lt;br&gt;这样整个进程就进入休眠了" style="text;whiteSpace=wrap;html=1;fontColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="325" y="920" width="195" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-12" target="UPTZTvRMxHHyWCnLUqef-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-12" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;正常的job调用&lt;br/&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ExampleJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;());&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="890" y="440" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-13" target="UPTZTvRMxHHyWCnLUqef-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-13" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(Bus/&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="872.5" y="580" width="285" height="60" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-16" value="vendor/illuminate/bus/Dispatcher.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="800" y="560" width="220" height="25" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-17" target="UPTZTvRMxHHyWCnLUqef-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-17" target="fQgejPYToPk4qpz2Y8Nr-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-17" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;BusServiceProvider-&amp;gt;&lt;/span&gt;register&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;()&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1250" y="585" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-20" value="vendor/illuminate/bus/BusServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1337.5" y="560" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-21" target="fQgejPYToPk4qpz2Y8Nr-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-21" target="fQgejPYToPk4qpz2Y8Nr-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-21" target="fQgejPYToPk4qpz2Y8Nr-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="UPTZTvRMxHHyWCnLUqef-21" target="fQgejPYToPk4qpz2Y8Nr-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UPTZTvRMxHHyWCnLUqef-21" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;queueResolver &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;commandShouldBeQueued&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatchToQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatchNow&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br&gt;如果继承了 &lt;/span&gt;ShouldQueue 就丢入队列, 否则就直接执行&lt;br&gt;但这里使用的是command, 而非job&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="785" y="677.5" width="460" height="152.5" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-0" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;1. new &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connection &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;]-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;connection&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;});&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;1.1. &lt;/span&gt;QueueManager-&amp;gt;connection&lt;span style=&quot;font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;1.2. &lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;QueueManager-&amp;gt;getConnector&lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#660000&quot;&gt;&#39;redis&#39;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;-&amp;gt;connect&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;1.3. return &lt;/span&gt;new &lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;RedisQueue&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;QueueFactoryContract&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;class =&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;helvetica&amp;#34; ; background-color: rgb(248 , 249 , 250)&quot;&gt;vendor/illuminate/queue/QueueManager.php&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1210.5" y="242.5" width="450" height="157.5" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-3" value="push" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="955" y="1060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-5" target="fQgejPYToPk4qpz2Y8Nr-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-5" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;pushOn&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1060" y="960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-7" target="fQgejPYToPk4qpz2Y8Nr-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-7" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;later&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1210" y="880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-9" target="fQgejPYToPk4qpz2Y8Nr-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;laterOn&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1322.5" y="723.75" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-3" target="UPTZTvRMxHHyWCnLUqef-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontColor=#FF170F;strokeColor=#FF170F;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-3" target="WGCsmNehnFsNzq4NUx30-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1110" y="1150" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-15" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;laterRaw&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1210" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-18" value="redis.call(&#39;rpush&#39;, $queue, ARGV[1])&lt;br&gt;redis.call(&#39;rpush&#39;, $queue.&#39;:notify&#39;, 1)&lt;br&gt;Lua脚本" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="785" y="1150" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="05CbAu_stCd7C5CX-F7r-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="fQgejPYToPk4qpz2Y8Nr-19" target="05CbAu_stCd7C5CX-F7r-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-19" value="&lt;pre style=&quot;font-size: 9pt ; text-align: left ; background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;fire&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;();&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="250" y="1180" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="fQgejPYToPk4qpz2Y8Nr-21" value="vendor/illuminate/queue/Worker.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="5" y="790" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="05CbAu_stCd7C5CX-F7r-1" target="Y8lsC-n3WvWJ9oupJKg2-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="05CbAu_stCd7C5CX-F7r-1" value="&lt;pre style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;, &lt;/font&gt;&lt;font color=&quot;#660000&quot;&gt;call&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;JobName&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;parse&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(6 , 125 , 23) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;job&#39;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;]);&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#660000&quot; face=&quot;jetbrains mono, monospace&quot;&gt;CallQueuedHandler&lt;/font&gt;&lt;font color=&quot;#080808&quot; face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;-&amp;gt;call&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$&lt;/span&gt;job, &lt;span style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; color: rgb(6 , 125 , 23) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;data&#39;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;]);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="420" y="1270" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="05CbAu_stCd7C5CX-F7r-3" value="vendor/illuminate/queue/CallQueuedHandler.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="282.5" y="1250" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="Y8lsC-n3WvWJ9oupJKg2-2" target="Y8lsC-n3WvWJ9oupJKg2-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-2" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatchThroughMiddleware&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="50" y="1275" width="320" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="Y8lsC-n3WvWJ9oupJKg2-3" target="Y8lsC-n3WvWJ9oupJKg2-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-3" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0)&quot;&gt;Pipeline&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(135 , 16 , 148)&quot;&gt;container&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;send&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;        -&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;through&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;middleware]))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 51 , 179)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 51 , 179)&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;span style=&quot;white-space: pre&quot;&gt; &lt;/span&gt;    return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(135 , 16 , 148)&quot;&gt;dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122)&quot;&gt;dispatchNow&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt; &lt;/span&gt;        $command&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;resolveHandler&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; white-space: normal ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;white-space: normal ; background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt; &lt;/span&gt;    );&lt;br&gt;        });&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="20" y="1390" width="455" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-6" value="vendor/illuminate/queue/Jobs/Job.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="170" y="1150" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;" parent="0YRGfek4cY0L8N3LiBHX-1" source="Y8lsC-n3WvWJ9oupJKg2-16" target="Y8lsC-n3WvWJ9oupJKg2-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="1710" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=5;" parent="0YRGfek4cY0L8N3LiBHX-1" source="Y8lsC-n3WvWJ9oupJKg2-8" target="Y8lsC-n3WvWJ9oupJKg2-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-8" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatchNow&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$handler &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$handler &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;|| &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$handler &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getCommandHandler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callback &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$handler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$handler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;handle&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    } &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callback &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;container&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;call&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;([&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;handle&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;pipeline&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;send&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;through&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;pipes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;then&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callback&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="5" y="1570" width="520" height="240" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-10" value="vendor/illuminate/bus/Dispatcher.php&lt;br&gt;$handler是实际写的job（app/Jobs/Job.php）" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="5" y="1540" width="285" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-11" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;tap&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;unserialize&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_shift&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chained&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)), &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chained &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chained&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;onConnection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;connection &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainConnection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;onQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;queue &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainConnection &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainConnection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$next&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainQueue &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;chainQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}));&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="995" y="1605" width="460" height="170" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-13" value="app/Jobs/Job.php&lt;br&gt;vendor/illuminate/bus/Queueable.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1011" y="1570" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-15" value="这里对于job的优化，加入了job之间 优先级关系；这里妥妥的责任链模式" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="535" y="1650" width="400" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Y8lsC-n3WvWJ9oupJKg2-16" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;ensureNextJobInChainIsDispatched&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$command&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="600" y="1665" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="H2Fa3pAkgOJ7XqVHhFQV-1" target="H2Fa3pAkgOJ7XqVHhFQV-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="H2Fa3pAkgOJ7XqVHhFQV-1" target="H2Fa3pAkgOJ7XqVHhFQV-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-1" value="&lt;pre style=&quot;font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt&quot;&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;$&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;worker-&amp;gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;markJobAsFailedIfWillExceedMaxAttempts&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;, (&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;maxTries&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;br&gt;&lt;/span&gt;&lt;font face=&quot;jetbrains mono, monospace&quot; style=&quot;color: rgb(8 , 8 , 8)&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;font color=&quot;#080808&quot;&gt;$&lt;/font&gt;worker-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255)&quot;&gt;markJobAsFailedIfWillExceedMaxExceptions&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; font-family: &amp;#34;helvetica&amp;#34; ; color: rgb(8 , 8 , 8)&quot;&gt;&lt;font face=&quot;JetBrains Mono, monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;font color=&quot;#080808&quot;&gt;    &lt;/font&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;font color=&quot;#660000&quot; face=&quot;JetBrains Mono, monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;);&lt;/font&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(255 , 255 , 255)&quot;&gt;$worker&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;handleJobException&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;$connectionName&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt&quot;&gt;&lt;font face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry y="1870" width="436" height="140" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-2" value="vendor/illuminate/queue/Worker.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry y="1840" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-3" value="&lt;blockquote style=&quot;margin: 0 0 0 40px ; border: none ; padding: 0px&quot;&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;release&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/blockquote&gt;&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;method_exists&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;delaySeconds&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &amp;amp;&amp;amp; ! &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;delaySeconds&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;())&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                ? &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;delaySeconds&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                : &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$options&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;delay&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="282.5" y="2228" width="470" height="110" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="H2Fa3pAkgOJ7XqVHhFQV-5" target="H2Fa3pAkgOJ7XqVHhFQV-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-5" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$&lt;/span&gt;worker-&amp;gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;failJob&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;rounded=0;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="260" y="2090" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="H2Fa3pAkgOJ7XqVHhFQV-7" target="H2Fa3pAkgOJ7XqVHhFQV-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-7" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;fail&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$e&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#f8cecc;strokeColor=#b85450;rounded=0;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="520" y="2090" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="H2Fa3pAkgOJ7XqVHhFQV-9" target="L2zdXUVcD7vKSdD1jbPo-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;resolve&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobFailed&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$e &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?: &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ManuallyFailedException&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="690" y="2080" width="430" height="80" as="geometry" />
        </mxCell>
        <mxCell id="H2Fa3pAkgOJ7XqVHhFQV-11" value="vendor/illuminate/queue/Jobs/Job.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="680" y="2070" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="L2zdXUVcD7vKSdD1jbPo-1" target="WGCsmNehnFsNzq4NUx30-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-1" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;logFailedJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;JobFailed &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;laravel&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.failer&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;connectionName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getRawBody&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(), &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;exception&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1170" y="2070" width="365" height="100" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-3" value="vendor/illuminate/queue/Console/WorkCommand.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1145" y="2040" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" parent="0YRGfek4cY0L8N3LiBHX-1" source="L2zdXUVcD7vKSdD1jbPo-4" target="L2zdXUVcD7vKSdD1jbPo-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="L2zdXUVcD7vKSdD1jbPo-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;registerFailedJobServices&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.failer&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;config&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;][&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;queue.failed&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;isset&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;driver&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]) &amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;driver&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] === &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;dynamodb&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dynamoFailedJobProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        } &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;elseif &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;isset&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;])) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;databaseFailedJobProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        } &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;NullFailedJobProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    });&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br/&gt;&lt;/span&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;databaseFailedJobProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;DatabaseFailedJobProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;db&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;], &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;database&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;], &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$config&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    );&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1607.5" y="1990" width="480" height="320" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-2" value="vendor/illuminate/queue/QueueServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1550" y="1970" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-7" value="&lt;pre&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(new &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;DatabaseFailedJobProvider)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(255 , 255 , 255)&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8)&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(255 , 255 , 255)&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;connectionName&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;getQueue&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8)&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(),&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot; style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;        &lt;/font&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(135 , 16 , 148) ; background-color: rgb(247 , 250 , 255)&quot;&gt;job&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;getRawBody&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(), &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;font color=&quot;#871094&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;exception&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;font face=&quot;jetbrains mono, monospace&quot;&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;);&lt;br/&gt;&lt;/span&gt;最後把失敗的任務存放到了數據庫的failed_jobs&lt;span style=&quot;font-size: 9pt&quot;&gt;&lt;br/&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1177.5" y="2220" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-10" value="vendor/illuminate/queue/QueueServiceProvider.php" style="text;whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1075" y="2190" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-11" value="从列表里拿到&lt;br&gt;job" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF5D17;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="30" y="960" width="85" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-12" value="这里把错误的job存如数据库" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1135" y="2020" width="180" height="20" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-13" value="捕获job执行异常进行容错处理" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="5" y="1820" width="235" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-14" value="解析job，然后通过它pipeline执行" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF5D17;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="477.5" y="1340" width="122.5" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-16" value="总结：&lt;br&gt;1. job的实现有2个队列 + 2 个集合 + 数据库的job表&lt;br&gt;1.1&amp;nbsp; &amp;nbsp;job失败有两种处理方案&lt;br&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;1. 重试N次，&lt;font color=&quot;#66ffff&quot;&gt; &lt;/font&gt;&lt;font color=&quot;#990000&quot;&gt;次数job-&amp;gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;attempts, 旧job 从&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic ; text-align: center ; background-color: rgb(247 , 250 , 255)&quot;&gt;queue:reserved进入&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic ; text-align: center ; background-color: rgb(247 , 250 , 255)&quot;&gt;queue 队列，达到重试目的&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;2. 重试超限，&lt;font color=&quot;#990000&quot;&gt;job失败后直接保存到数据库， 由管理员运行&amp;nbsp;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;queue:retry 命令进行重试&lt;/span&gt;&lt;/font&gt;&lt;br&gt;2. 存在着一个通用job类，包装了我们实际的job；该job类具有容错机制，即：失败任务会进入&amp;nbsp;failed_jobs 表&lt;br&gt;3. 使用 pipeline (切面编程) 完成job的执行, 使每個job都具了有一定的生命周期&lt;br&gt;4. job的chan机制 增加了不同任务的优先级&lt;br&gt;5. 使用了 redis阻塞命令 优化了代码&lt;br&gt;6.&amp;nbsp;vendor/illuminate/queue/LuaScripts.php 该脚本非常具有参考价值，可以尽量避免通信错误&lt;br&gt;7. 存在两个job类型&lt;br&gt;&amp;nbsp; &amp;nbsp; 7.1&amp;nbsp;app/Jobs/Job.php&amp;nbsp; &amp;nbsp; &amp;nbsp;自定义job继承的基类&lt;br&gt;&amp;nbsp; &amp;nbsp; 7.2&amp;nbsp;vendor/illuminate/queue/Jobs/Job.php&amp;nbsp; &amp;nbsp;实际存入队列的job基类，用途：自定义job的代理类" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="220" y="2350" width="660" height="190" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;dashed=1;fontColor=#FF170F;strokeColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-20" target="fQgejPYToPk4qpz2Y8Nr-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-20" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0) ; font-style: italic&quot;&gt;1. $app-&amp;gt;make(QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;class)&lt;br&gt;2. $app-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;loadComponentQueueServiceProvider::class)&lt;br&gt;3. QueueServiceProvider-&amp;gt;registerManager&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;4. (new &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(0 , 0 , 0)&quot;&gt;QueueManager&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;)-&amp;gt;registerConnectors&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$manager&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;)&lt;br&gt;                       -&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;registerRedisConnector&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$manager&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;div style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;4.5 &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;QueueManager[&#39;redis&#39;] = new &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;RedisConnector&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;&lt;br/&gt;5. $app&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 0 , 0) ; font-style: italic&quot;&gt;QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;font-size: 9pt ; color: rgb(0 , 51 , 179)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;font-size: 9pt&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; font-size: 9pt&quot;&gt;QueueManager&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;align=left;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1231" y="42.51" width="409" height="117.49" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-23" value="&lt;span style=&quot;text-align: left&quot;&gt;RedisQueue-&amp;gt;&lt;/span&gt;pushRaw" style="whiteSpace=wrap;html=1;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="937.5" y="1215" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-25" value="vendor/illuminate/queue/RedisQueue.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1030" y="1180" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;fontColor=#000000;strokeColor=#000000;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-28" target="WGCsmNehnFsNzq4NUx30-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-28" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;RedisQueue-&amp;gt;&lt;span style=&quot;font-size: 9pt ; text-align: center ; background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;createPayload(....)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;&lt;br&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createObjectPayload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;withCreatePayloadHooks&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, [&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;uuid&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; (&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;string&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Str&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff ; font-style: italic&quot;&gt;uuid&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;displayName&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getDisplayName&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;job&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;Illuminate\Queue\CallQueuedHandler@call&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;maxTries&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;tries &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;maxExceptions&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;maxExceptions &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;delay&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getJobRetryDelay&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;timeout&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;timeout &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;timeoutAt&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getJobExpiration&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;data&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; [&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;commandName&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;command&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        ],&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    ]);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_merge&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, [&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;data&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; [&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;commandName&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;get_class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;command&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;serialize&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;clone &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;),&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        ],&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    ]);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1282.5" y="1150" width="380" height="380" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-29" value="vendor/illuminate/queue/Queue.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="1272.5" y="1140" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-30" value="这块是相当重要的一个操作" style="text;whiteSpace=wrap;html=1;fontColor=#FF170F;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="440" y="786.5" width="195" height="50" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-31" value="queue&lt;br&gt;job&amp;nbsp;&lt;span style=&quot;font-size: 13px; background-color: rgb(255, 255, 255);&quot;&gt;就绪态&lt;/span&gt;队列" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fontFamily=Helvetica;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="236" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-32" value="queue:&lt;span style=&quot;background-color: rgb(247, 250, 255); font-size: 9pt;&quot;&gt;notify&lt;br&gt;阻塞态队列&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fontFamily=Helvetica;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="420" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-33" value="&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;i&gt;&lt;div&gt;queue:reserved&lt;/div&gt;&lt;div&gt;job 运行态 队列&lt;/div&gt;&lt;/i&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fontFamily=Helvetica;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="620" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-34" value="queue:&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;delayed&lt;br&gt;延时集合&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-style: italic ; font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;fontFamily=Helvetica;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="830" y="2590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-39" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="260" y="2698" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=-0.05;entryY=0.254;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-39" target="WGCsmNehnFsNzq4NUx30-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-39" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontFamily=Helvetica;fontColor=#000000;fillColor=#2BFF56;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="155" y="2680" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=-0.033;entryY=0.553;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="175.5" y="2929" as="sourcePoint" />
            <mxPoint x="648.02" y="2950.85" as="targetPoint" />
            <Array as="points">
              <mxPoint x="176" y="2951" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-45" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontFamily=Helvetica;fontColor=#000000;fillColor=#63FFFA;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="158" y="2893" width="35" height="35" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-55" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;" parent="0YRGfek4cY0L8N3LiBHX-1" target="WGCsmNehnFsNzq4NUx30-45" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="440" y="2871" as="sourcePoint" />
            <mxPoint x="190" y="2870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-57" value="1. 加入队列&lt;br&gt;push(list, data)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="76.5" y="2640" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-58" value="1.1 进入阻塞队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="322.5" y="2682.5" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-59" value="把从阻塞态转&lt;br&gt;换成就绪态" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="355" y="2760" width="91.75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-60" value="2. 取出队列&lt;br&gt;pop(list)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="79.5" y="2840" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-62" value="" style="endArrow=classic;html=1;rounded=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;entryX=0;entryY=0.422;entryDx=0;entryDy=0;entryPerimeter=0;edgeStyle=orthogonalEdgeStyle;" parent="0YRGfek4cY0L8N3LiBHX-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="2760" as="sourcePoint" />
            <mxPoint x="450" y="2819.9" as="targetPoint" />
            <Array as="points">
              <mxPoint x="450" y="2790" />
              <mxPoint x="370" y="2790" />
              <mxPoint x="370" y="2820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-64" value="2.4 把就绪态转换成运行态" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="333.25" y="2920" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-66" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;2.1 blpop&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="328.25" y="2840" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-67" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;2.3 取出job&lt;/span&gt;&lt;/pre&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="136.5" y="2990" width="113.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.855;entryY=1;entryDx=0;entryDy=-4.35;entryPerimeter=0;fontFamily=Helvetica;fontColor=#000000;strokeColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" source="WGCsmNehnFsNzq4NUx30-68" target="WGCsmNehnFsNzq4NUx30-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-68" value="marge" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="620" y="3040" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-74" value="取出旧的job" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="680" y="3000" width="94" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-75" value="取出超时的job" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="890" y="3020" width="94" height="60" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-76" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public static function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;migrateExpiredJobs&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&amp;lt;&amp;lt;&amp;lt;&#39;LUA&#39;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;-- Get all of the jobs with an expired &quot;score&quot;...&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;local val = redis.call(&#39;zrangebyscore&#39;, KEYS[1], &#39;-inf&#39;, ARGV[1])&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;-- If we have values in the array, we will remove them from the first queue&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;-- and add them onto the destination queue in chunks of 100, which moves&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;-- all of the appropriate jobs onto the destination queue very safely.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;if(next(val) ~= nil) then&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;    redis.call(&#39;zremrangebyrank&#39;, KEYS[1], 0, #val - 1)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;    for i = 1, #val, 100 do&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;        redis.call(&#39;rpush&#39;, KEYS[2], unpack(val, i, math.min(i+99, #val)))&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;        -- Push a notification for every job that was migrated...&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;        for j = i, math.min(i+99, #val) do&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;            redis.call(&#39;rpush&#39;, KEYS[3], 1)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;        end&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;    end&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;end&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;return val&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;LUA;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="333.25" y="3090" width="480" height="380" as="geometry" />
        </mxCell>
        <mxCell id="WGCsmNehnFsNzq4NUx30-77" value="如果是delay型的job，需要重新放如queue:&lt;span style=&quot;font-size: 9pt ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;delayed集合&lt;/span&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Helvetica;fontColor=#000000;" parent="0YRGfek4cY0L8N3LiBHX-1" vertex="1">
          <mxGeometry x="280" y="2210" width="350" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="gMYdL2iJ1spBoTXeFBLs" name="event">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="XyfbUSMrMvgJI63YV9yN-0" />
        <mxCell id="XyfbUSMrMvgJI63YV9yN-1" parent="XyfbUSMrMvgJI63YV9yN-0" />
        <mxCell id="D22GCXnIpcTBdw9gQfCT-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontColor=#990000;strokeColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="D22GCXnIpcTBdw9gQfCT-0" target="D22GCXnIpcTBdw9gQfCT-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D22GCXnIpcTBdw9gQfCT-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ExampleEvent&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontColor=#990000;fillColor=#FFFFFF;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="151.5" y="350" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="D22GCXnIpcTBdw9gQfCT-1" target="2AIUDh7rqcaa4maWXz2j-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D22GCXnIpcTBdw9gQfCT-1" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatch&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$halt&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;fillColor=#FFFFFF;fontColor=#990000;rounded=0;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="99" y="510" width="315" height="60" as="geometry" />
        </mxCell>
        <mxCell id="D22GCXnIpcTBdw9gQfCT-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontColor=#990000;strokeColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="D22GCXnIpcTBdw9gQfCT-3" target="D22GCXnIpcTBdw9gQfCT-0" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="D22GCXnIpcTBdw9gQfCT-3" value="&lt;pre style=&quot;color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;() {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;app-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 0 , 0)&quot;&gt;EventServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 51 , 179)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;app-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;);&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;});&lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;EventServiceProvider-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(135 , 16 , 148)&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 98 , 122)&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(6 , 125 , 23)&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(0 , 51 , 179)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-size: 9pt&quot;&gt;) {&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0)&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;setQueueResolver&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(102 , 0 , 0)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 98 , 122)&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 0 , 0) ; font-style: italic&quot;&gt;QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; color: rgb(0 , 51 , 179)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;    });&lt;br/&gt;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255 , 255 , 255)&quot;&gt;});&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontColor=#990000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="23" y="60" width="467" height="170" as="geometry" />
        </mxCell>
        <mxCell id="D22GCXnIpcTBdw9gQfCT-5" value="vendor/laravel/lumen-framework/src/Application.php" style="text;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="8" y="20" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-1" value="vendor/illuminate/events/EventServiceProvider.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="8" y="40" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-2" value="vendor/illuminate/events/Dispatcher.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="20" y="480" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="2AIUDh7rqcaa4maWXz2j-3" target="2AIUDh7rqcaa4maWXz2j-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;register&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;App&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Providers&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;\&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;EventServiceProvider&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="701" y="20" width="370" height="50" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="2AIUDh7rqcaa4maWXz2j-4" target="2AIUDh7rqcaa4maWXz2j-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;boot&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;listen &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listeners&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listeners &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;subscribe &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;subscribe&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="716" y="160" width="340" height="240" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-6" value="app/Providers/EventServiceProvider.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="658" y="140" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;dashed=1;" parent="XyfbUSMrMvgJI63YV9yN-1" source="2AIUDh7rqcaa4maWXz2j-9" target="2AIUDh7rqcaa4maWXz2j-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;array&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Str&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff ; font-style: italic&quot;&gt;contains&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;*&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;setupWildcardListen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        } &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;else &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;listeners&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;][] = &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;makeListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br/&gt;&lt;br/&gt;&lt;/span&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;makeListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_string&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_array&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;isset&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #1750eb ; background-color: #f7faff&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;]) &amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_string&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #1750eb ; background-color: #f7faff&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;])) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(...&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_values&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br/&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="656" y="450" width="460" height="450" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-11" value="vendor/illuminate/events/Dispatcher.php" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="640" y="440" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-14" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getListeners&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$response &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br/&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="86.5" y="753" width="340" height="70" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-18" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;subscribe&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;resolveSubscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$subscriber&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;subscribe&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_array&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$events &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;=&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listeners&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listeners &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="610" y="1320" width="360" height="240" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="111" y="1100" width="430" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="110" y="1160" width="120" height="310" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-21" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="261" y="1160" width="120" height="310" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-22" value="" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="420" y="1160" width="120" height="310" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-23" value="event1" style="text;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="140" y="1115" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-24" value="event2" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="290" y="1115" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-25" value="event3" style="text;html=1;strokeColor=#6c8ebf;fillColor=#dae8fc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="451" y="1115" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-26" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen1&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="111" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-27" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen2&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="111" y="1250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-28" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen3&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="111" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-29" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen4&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="260" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-30" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen5&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="261" y="1250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-31" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen6&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="261" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-32" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen7&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="420" y="1170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-33" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen8&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="421" y="1250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-34" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;listen9&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="421" y="1330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-36" value="事件的结构就是一个hashmap&lt;br&gt;调用事件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="220" y="1010" width="216" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;dashed=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" source="2AIUDh7rqcaa4maWXz2j-38" target="2AIUDh7rqcaa4maWXz2j-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2AIUDh7rqcaa4maWXz2j-38" value="&lt;pre style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;dispatch(event_name)&lt;br/&gt;&lt;/span&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;fontColor=#000000;" parent="XyfbUSMrMvgJI63YV9yN-1" vertex="1">
          <mxGeometry x="150" y="920" width="139" height="80" as="geometry" />
        </mxCell>
        <mxCell id="pmo_z5RZn_GfqcEGBvMo-1" value="" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;opacity=30;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="XyfbUSMrMvgJI63YV9yN-1">
          <mxGeometry x="30" y="1240" width="590" height="70" as="geometry" />
        </mxCell>
        <mxCell id="pmo_z5RZn_GfqcEGBvMo-2" value="订阅就是把某几个监听进行分组" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;opacity=30;" vertex="1" parent="XyfbUSMrMvgJI63YV9yN-1">
          <mxGeometry x="596" y="1250" width="94" height="60" as="geometry" />
        </mxCell>
        <mxCell id="pmo_z5RZn_GfqcEGBvMo-3" value="" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;opacity=30;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="XyfbUSMrMvgJI63YV9yN-1">
          <mxGeometry x="230" y="1325" width="370" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="u3EWvzpv0CtGHLmOma_s" name="event-queue">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="y8C87s4IfsplPBn4YV-3-0" />
        <mxCell id="y8C87s4IfsplPBn4YV-3-1" parent="y8C87s4IfsplPBn4YV-3-0" />
        <mxCell id="zo-dPk5q8KV2N2cNjawh-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="y8C87s4IfsplPBn4YV-3-1" source="zo-dPk5q8KV2N2cNjawh-0" target="zo-dPk5q8KV2N2cNjawh-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-0" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;call_user_func&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callable &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(...&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_values&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="26" y="50" width="550" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="y8C87s4IfsplPBn4YV-3-1" source="zo-dPk5q8KV2N2cNjawh-1" target="zo-dPk5q8KV2N2cNjawh-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-1" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    [&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_array&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                        ? &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;                        &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;parseClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;handlerShouldBeQueued&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createQueuedHandlerCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;container&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="86" y="310" width="430" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="y8C87s4IfsplPBn4YV-3-1" source="zo-dPk5q8KV2N2cNjawh-2" target="zo-dPk5q8KV2N2cNjawh-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-2" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createQueuedHandlerCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_map&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_object&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) ? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;clone &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;func_get_args&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;());&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;handlerWantsToBeQueued&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;queueHandler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="96" y="600" width="410" height="210" as="geometry" />
        </mxCell>
        <mxCell id="My6D8F8Iu10InyGQHvYq-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#0000FF;" edge="1" parent="y8C87s4IfsplPBn4YV-3-1" source="zo-dPk5q8KV2N2cNjawh-3" target="My6D8F8Iu10InyGQHvYq-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;queueHandler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    [&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createListenerAndJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;resolveQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;connection &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;method_exists&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;viaQueue&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                ? &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;viaQueue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                : &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;queue &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;?? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;isset&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;delay&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                ? &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;laterOn&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;delay&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                : &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;pushOn&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="46" y="1100" width="510" height="260" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="zo-dPk5q8KV2N2cNjawh-9" target="zo-dPk5q8KV2N2cNjawh-11" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-9" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$wildcard&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;call_user_func&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$event&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callable &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$callable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(...&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_values&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$payload&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="26" y="50" width="550" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" source="zo-dPk5q8KV2N2cNjawh-11" target="zo-dPk5q8KV2N2cNjawh-12" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-11" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    [&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_array&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;                        ? &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;                        &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;parseClassCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;handlerShouldBeQueued&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createQueuedHandlerCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;container&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="86" y="310" width="430" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-12" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createQueuedHandlerCallable&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array_map&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_object&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) ? &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;clone &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$a&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;func_get_args&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;());&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;handlerWantsToBeQueued&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;queueHandler&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    };&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="96" y="600" width="410" height="210" as="geometry" />
        </mxCell>
        <mxCell id="My6D8F8Iu10InyGQHvYq-0" value="&lt;pre style=&quot;font-size: 9pt ; background-color: rgb(255 , 255 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$class  事件监听类&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$method handle&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$arguments 事件参数&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;resolveQueue&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;() 在创建的时候就设置好了, 就是 &lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;QueueManager&lt;/font&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;EventServiceProvider-&amp;gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(135 , 16 , 148) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;singleton&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(6 , 125 , 23) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;&#39;events&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; font-size: 9pt ; background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;/span&gt;&lt;font color=&quot;#080808&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;Dispatcher&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;setQueueResolver&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$app&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;make&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0) ; background-color: rgb(247 , 250 , 255) ; font-style: italic&quot;&gt;QueueFactoryContract&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 51 , 179) ; background-color: rgb(247 , 250 , 255)&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;    });&lt;/span&gt;&lt;/pre&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;})&lt;br&gt;&lt;/span&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;$connection = &lt;font color=&quot;#ff0000&quot;&gt;QueueManager-&amp;gt;&lt;/font&gt;connection() 返回对应的队列连接器&lt;br&gt;&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$connection&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;pushOn&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$queue&lt;/span&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(102 , 0 , 0) ; background-color: rgb(247 , 250 , 255)&quot;&gt;$job&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;font color=&quot;#080808&quot;&gt;); 丢到队列，&lt;/font&gt;&lt;font color=&quot;#b3b3b3&quot;&gt;结束&lt;/font&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;span style=&quot;color: rgb(8 , 8 , 8) ; background-color: rgb(247 , 250 , 255)&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;opacity=30;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="310" y="810" width="510" height="280" as="geometry" />
        </mxCell>
        <mxCell id="My6D8F8Iu10InyGQHvYq-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#0000FF;" edge="1" parent="y8C87s4IfsplPBn4YV-3-1" source="zo-dPk5q8KV2N2cNjawh-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="630" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zo-dPk5q8KV2N2cNjawh-7" value="&lt;font color=&quot;#ff4912&quot;&gt;可以看出流程还是跟原来的event是一样的&lt;br&gt;区别就是在触发事件的时候， 把真正的event 包装成了job【&lt;/font&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;CallQueuedListener&lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 73 , 18)&quot;&gt;】&lt;/span&gt;&lt;font color=&quot;#ff4912&quot;&gt;然后在使用 job的流程放入队列&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#0000ff&quot;&gt;而job被取出后，安装原来的队列逻辑， 运行&lt;/font&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;CallQueuedListener,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;CallQueuedListener内部执行事件逻辑&lt;/span&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;font color=&quot;#0000ff&quot;&gt;这个不需要查代码了，直接推测就可以得到结果&lt;br&gt;但注意的是&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;opacity=30;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="460" y="170" width="340" height="140" as="geometry" />
        </mxCell>
        <mxCell id="My6D8F8Iu10InyGQHvYq-2" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;createListenerAndJob&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= (&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ReflectionClass&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;))-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;newInstanceWithoutConstructor&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;propagateListenerOptions&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$listener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;CallQueuedListener&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$class&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$method&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$arguments&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    )];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontColor=#0000FF;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="51" y="1400" width="500" height="150" as="geometry" />
        </mxCell>
        <mxCell id="My6D8F8Iu10InyGQHvYq-4" value="&lt;pre style=&quot;font-size: 9pt ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;font color=&quot;#660000&quot;&gt;&lt;span style=&quot;background-color: rgb(247 , 250 , 255)&quot;&gt;创建自定义Job&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;opacity=30;" vertex="1" parent="y8C87s4IfsplPBn4YV-3-1">
          <mxGeometry x="291" y="1510" width="218" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="k5Bym1Lp1gaPYfgo8V_B" name="pipeline">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="wGNHjyG80POM6wsFg1sA-0" />
        <mxCell id="wGNHjyG80POM6wsFg1sA-1" parent="wGNHjyG80POM6wsFg1sA-0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

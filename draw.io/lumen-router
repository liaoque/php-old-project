<mxfile host="app.diagrams.net" modified="2022-02-09T06:33:57.649Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36" etag="30DfAIafIwQCe2voZ5lB" version="16.0.3" type="github">
  <diagram id="hLgavIo5SCeSSkRCoNNF" name="路由匹配">
    <mxGraphModel dx="1182" dy="764" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0tJdPyvalSJs-OfAvUVf-1" value="&lt;pre class=&quot;sf-dump&quot; id=&quot;sf-dump-352028191&quot; tabindex=&quot;0&quot; style=&quot;padding: 5px ; background-color: rgb(24 , 23 , 27) ; color: rgb(255 , 132 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &amp;#34;menlo&amp;#34; , &amp;#34;monaco&amp;#34; , &amp;#34;consolas&amp;#34; , monospace ; overflow-wrap: break-word ; position: relative ; z-index: 99999 ; word-break: break-all&quot;&gt;&lt;samp class=&quot;sf-dump-expanded&quot;&gt;&lt;samp class=&quot;sf-dump-expanded&quot;&gt;&lt;span class=&quot;sf-dump-str&quot; title=&quot;15 characters&quot; style=&quot;display: inline ; font-weight: bold ; color: rgb(86 , 219 , 58)&quot;&gt;dispatchToRoute&lt;/span&gt;&lt;/samp&gt;&lt;/samp&gt;&lt;/pre&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="150" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-2" value="E:\mkl_git\test\aa\blog\vendor\laravel\framework\src\Illuminate\Routing\Router.php" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="100" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="0tJdPyvalSJs-OfAvUVf-3" target="0tJdPyvalSJs-OfAvUVf-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-16" value="&lt;pre style=&quot;font-size: 9pt ; text-align: left ; color: rgb(8 , 8 , 8) ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace&quot;&gt;&lt;span style=&quot;color: rgb(0 , 98 , 122) ; background-color: rgb(247 , 250 , 255)&quot;&gt;findRoute&lt;/span&gt;&lt;/pre&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="0tJdPyvalSJs-OfAvUVf-5">
          <mxGeometry x="-0.2167" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-3" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * Dispatch the request to a route and return the response.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Http\Request  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Symfony\Component\HttpFoundation\Response&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;dispatchToRoute&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Request &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;runRoute&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;findRoute&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="200" width="420" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0tJdPyvalSJs-OfAvUVf-4" target="0tJdPyvalSJs-OfAvUVf-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1120" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-4" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9.0pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 9pt&quot;&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * Find the first route matching a given request.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Http\Request  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Routing\Route&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @throws &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Symfony\Component\HttpKernel\Exception\NotFoundHttpException&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;match&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Request &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;get&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getMethod&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;());&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;// First, we will see if we can find a matching route for this current request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // method. If we can, great, we can just return it so that it can be called&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // by the consumer. Otherwise we will check for routes with another verb.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matchAgainstRoutes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(! &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;is_null&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;bind&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;// If no route was found we will now check if a matching route is specified by&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // another HTTP verb. If it is we will need to throw a MethodNotAllowed and&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // inform the user agent of which HTTP verb it should use for this route.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$others &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;checkForAlternateVerbs&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;count&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$others&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &amp;gt; &lt;/span&gt;&lt;span style=&quot;color: #1750eb ; background-color: #f7faff&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getRouteForMethods&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$others&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;throw new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;NotFoundHttpException&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="45" width="520" height="490" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0tJdPyvalSJs-OfAvUVf-8" target="0tJdPyvalSJs-OfAvUVf-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-8" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * Determine if a route in the array matches the request.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$routes&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Http\Request  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;bool  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$includingMethod&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Routing\Route&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;|&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;null&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;protected function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matchAgainstRoutes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;array &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$includingMethod &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    [&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$fallbacks&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;] = &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;collect&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;partition&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff&quot;&gt;isFallback&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    });&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$routes&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;merge&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$fallbacks&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;first&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;function &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$value&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;use &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$includingMethod&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$value&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matches&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$includingMethod&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;);&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    });&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="810" y="585" width="620" height="290" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0tJdPyvalSJs-OfAvUVf-10" target="0tJdPyvalSJs-OfAvUVf-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="1250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-10" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * Get the route validators for the instance.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;array&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public static function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getValidators&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;isset&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;static&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff ; font-style: italic&quot;&gt;$validators&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return static&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff ; font-style: italic&quot;&gt;$validators&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;// To match the route, we will use a chain of responsibility pattern with the&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // validator implementations. We will spin through each one making sure it&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    // passes and then we will know if the route as a whole matches request.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return static&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;::&lt;/span&gt;&lt;span style=&quot;color: #871094 ; background-color: #f7faff ; font-style: italic&quot;&gt;$validators &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= [&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;UriValidator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;MethodValidator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;SchemeValidator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;new &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;HostValidator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    ];&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="370" width="510" height="310" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-12" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;class &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;UriValidator &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;implements &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;ValidatorInterface&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;     * Validate a given rule against a route and request.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;     *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;     * @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Routing\Route  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$route&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;     &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Http\Request  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;     &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;bool&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;     &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matches&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Route &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Request &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$path &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() === &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;/&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;? &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;/&#39; &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: #067d17 ; background-color: #f7faff&quot;&gt;&#39;/&#39;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;preg_match&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$route&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getCompiled&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;()-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getRegex&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(), &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;rawurldecode&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$path&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;));&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="930" width="520" height="280" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-14" value="目前laravel 8.x版本的路由都是一致的&lt;br&gt;通过遍历每个路由，然后使用正则表达式uri&lt;br&gt;效率上是可以使用radix进行优化的" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="30" y="20" width="400" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="0tJdPyvalSJs-OfAvUVf-17" target="0tJdPyvalSJs-OfAvUVf-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-17" value="&lt;pre style=&quot;background-color: #ffffff ; color: #080808 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 9.0pt&quot;&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;/**&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * Determine if the route matches given request.&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; *&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt; * @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;\Illuminate\Http\Request  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$request&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @param  &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;bool  &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt;$includingMethod&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;* @return &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt;bool&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff ; font-style: italic&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #8c8c8c ; background-color: #f7faff ; font-style: italic&quot;&gt;*/&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;public function &lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matches&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;Request &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$includingMethod &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;{&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;compileRoute&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;();&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;foreach &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;getValidators&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;as &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$validator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(! &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$includingMethod &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$validator &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;instanceof &lt;/span&gt;&lt;span style=&quot;color: #000000 ; background-color: #f7faff&quot;&gt;MethodValidator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;continue&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;if &lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(! &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$validator&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #00627a ; background-color: #f7faff&quot;&gt;matches&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$this&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #660000 ; background-color: #f7faff&quot;&gt;$request&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;)) {&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;            &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return false&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;        }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    }&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: #0033b3 ; background-color: #f7faff&quot;&gt;return true&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: #f7faff&quot;&gt;}&lt;br&gt;&lt;/span&gt;&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="690" width="465" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0tJdPyvalSJs-OfAvUVf-20" value="遍历路由表" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="120" y="700" width="80" height="20" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
